<!doctype html>
<html>
  <head>
    <title>Shuffle</title>
  </head>
  <body>

  <button id="shuffle"> Shuffle the Deck </button>

    <ul id="deck">
    </ul>
    <link href="deckstyle.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript">

      function Card(r, s) {
        this.rank = r;
        this.suit = s;
        this.toHTML = function() {
          return "<li class='card'>" + this.rank + " " + this.suit + "</li>";
        }
      }
      function Deck() {
        var thisDeck = this;
        this.suits = ['H', 'C', 'D', 'S'];
        this.ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];


        $.each(thisDeck.suits, function() {
          var suit = this;
          $.each(thisDeck.ranks, function() {
            var rank = this;
            var card = new Card(rank, suit);
            $('#deck').append(card.toHTML());
          });
        });
      }

      var shuffle = function(m) {
        var rand, $rand;
        rand = Math.floor(Math.random() * m--);
        $('li:eq(' + m + ')').
          after($('li:eq(' + rand + ')')).
          insertBefore($('li:eq(' + rand + ')'))
        if(m) {
          setTimeout(shuffle, 250, m);
          $('li:eq(' + m + ')').addClass('testcss');
        }
      };

    var deck = new Deck();

    $("li:contains('H')").addClass('hearts');
    $("li:contains('S')").addClass('spades');
    $("li:contains('C')").addClass('clubs');
    $("li:contains('D')").addClass('diamonds');

    $('#shuffle').click(function(){
      shuffle($('.cards').length);
    });

    </script>
  </body>
</html>


<!-- ul li:nth-child(2)
$('li:eq(4)'); = equals

$('li:eq(0)').after($('li:eq(4)'));
$('li:eq(4)').after($('li:eq(0)'));


 -->
